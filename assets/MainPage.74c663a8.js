import{L as P,X as a,a as u,E as g,b as C,d as k,u as M,r as m,c as p,e as X,f as e,w as v,v as R,g as L,t as z,o as b}from"./index.7e427c3e.js";class l{constructor(){this.lock=new P,this.uid=0}static shared(){return l.instance||(l.instance=new l),l.instance}static async generate(){await l.shared().lock.acquire();const t=(++l.shared().uid).toString();return l.shared().lock.release(),t}}class A{static call(t){if(!a.shared().initialized){u.e("[XRemoteClient : call] The WASM module is not initialized");return}try{const s=a.shared().module.ProxyClient.call(t.data());return a.shared().config.serializer.decodeFunctionReturnValue(s)}catch(s){u.e("[XRemoteClient : call] Error: "+g.get(s))}}static callAsync(t){return new Promise(s=>{if(!a.shared().initialized)return u.e("[XRemoteClient : callAsync] The WASM module is not initialized"),s(void 0);try{l.generate().then(o=>{if(C.shared().add(o,n=>s(a.shared().config.serializer.decodeFunctionReturnValue(n))),a.shared().module.ProxyClient){const n=a.shared().module.ProxyClient.call(t.data());if(a.shared().module.PlatformProxy)a.shared().module.PlatformProxy.shared().callProxyAsyncCallback(o,n);else return s(void 0)}else return s(void 0)})}catch(o){return u.e("[XRemoteClient : callAsync] Error: "+g.get(o)),s(void 0)}})}}class _{constructor(t,s){this.name=t,this.value=s}}class E{constructor(t,...s){this.functionName=t,this.params=s}data(){return a.shared().config.serializer.encodeRequest(this.functionName,...this.params)}}const S={class:"container"},V={key:0},T={class:"text-left"},B=e("h4",{id:"pageTitle",class:"my-5 text-center"},"Login",-1),N={class:"mb-3"},W=e("label",{for:"fieldUsername",class:"form-label"},"Username",-1),F={class:"mb-3"},O=e("label",{for:"fieldPassword",class:"form-label"},"Password",-1),U={class:"mb-3 form-check"},j=e("label",{class:"form-check-label",for:"fieldRemember"},"Remember",-1),G={class:"my-5 text-center"},H={id:"responseMessage",class:"text-"},J=e("button",{type:"submit",class:"btn btn-primary"},"Submit",-1),K={key:1},Q=e("div",{class:"text-center"},[e("p",{class:"my-5"},"Loading...")],-1),Y=[Q],$=k({__name:"MainPage",setup(f){const t=M(),s=m(null),o=m(null),n=m(!1),y="Use account paulo/123456 to success login",d=m(y);function w(c){c.preventDefault(),h("Calling...");const i=new E("sample.login",new _("username",s.value),new _("password",o.value),new _("remember",n.value));A.callAsync(i).then(r=>{h(r?"Response: "+r:"Response: ERROR!")})}function h(c){c?d.value=c:d.value="ERROR!"}function x(){s.value=null,o.value=null,n.value=!1,d.value=y}return(c,i)=>(b(),p("div",S,[X(t).isLoaded?(b(),p("div",V,[e("div",T,[B,e("form",{onSubmit:w},[e("div",N,[W,v(e("input",{id:"fieldUsername","onUpdate:modelValue":i[0]||(i[0]=r=>s.value=r),type:"text",class:"form-control"},null,512),[[R,s.value]])]),e("div",F,[O,v(e("input",{id:"fieldPassword","onUpdate:modelValue":i[1]||(i[1]=r=>o.value=r),type:"password",class:"form-control"},null,512),[[R,o.value]])]),e("div",U,[v(e("input",{id:"fieldRemember","onUpdate:modelValue":i[2]||(i[2]=r=>n.value=r),type:"checkbox",class:"form-check-input"},null,512),[[L,n.value]]),j]),e("p",G,[e("strong",null,[e("small",H,z(d.value),1)])]),e("div",{class:"form-bt-group"},[J,e("button",{type:"button",class:"btn btn-primary",onClick:x},"Clear")])],32)])])):(b(),p("div",K,Y))]))}});export{$ as default};
